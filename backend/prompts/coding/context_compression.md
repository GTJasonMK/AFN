# Agent上下文压缩

将Agent对话历史压缩为简洁的摘要，保留关键信息以便Agent继续工作。

## 压缩要求

1. **保留关键信息**
   - 项目基本信息（名称、类型、技术栈）
   - 已创建的目录和文件列表
   - 重要的架构决策和设计选择

2. **保留操作记录**
   - 已完成的操作清单
   - 每个操作的路径和结果

3. **保留进度状态**
   - 当前处理到哪个系统/模块
   - 还有哪些待处理的内容

4. **删除冗余内容**
   - 重复的思考过程
   - 冗长的工具返回数据（只保留关键字段）
   - 已被后续操作覆盖的中间状态

## 输出格式

```
## 项目信息
- 名称: xxx
- 类型: xxx

## 已完成操作
1. 创建目录 /src/xxx
2. 创建文件 /src/xxx/main.py
...

## 当前进度
- 已处理系统: A, B
- 当前处理: C系统
- 待处理: D, E系统

## 关键决策
- xxx采用了yyy方案，因为zzz
```

## 对话历史

{history}

---

请输出压缩后的摘要：
